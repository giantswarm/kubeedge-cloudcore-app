

{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "properties": {
    "appVersion": {
      "type": "string"
    },
    "cloudCore": {
      "type": "object",
      "properties": {
        "replicaCount": {
          "type": "integer"
        },
        "hostNetWork": {
          "type": "boolean"
        },
        "image": {
          "type": "object",
          "properties": {
            "repository": {
              "type": "string"
            },
            "tag": {
              "type": "string"
            },
            "pullPolicy": {
              "type": "string"
            },
            "pullSecrets": {
              "type": "array",
              "items": {}
            }
          },
          "required": [
            "repository",
            "tag",
            "pullPolicy",
            "pullSecrets"
          ]
        },
        "securityContext": {
          "type": "object",
          "properties": {
            "privileged": {
              "type": "boolean"
            }
          },
          "required": [
            "privileged"
          ]
        },
        "labels": {
          "type": "object",
          "properties": {
            "k8s-app": {
              "type": "string"
            },
            "kubeedge": {
              "type": "string"
            }
          },
          "required": [
            "k8s-app",
            "kubeedge"
          ]
        },
        "annotations": {
          "type": "object"
        },
        "affinity": {
          "type": "object",
          "properties": {
            "nodeAffinity": {
              "type": "object",
              "properties": {
                "requiredDuringSchedulingIgnoredDuringExecution": {
                  "type": "object",
                  "properties": {
                    "nodeSelectorTerms": {
                      "type": "array",
                      "items": [
                        {
                          "type": "object",
                          "properties": {
                            "matchExpressions": {
                              "type": "array",
                              "items": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "key": {
                                      "type": "string"
                                    },
                                    "operator": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "key",
                                    "operator"
                                  ]
                                }
                              ]
                            }
                          },
                          "required": [
                            "matchExpressions"
                          ]
                        }
                      ]
                    }
                  },
                  "required": [
                    "nodeSelectorTerms"
                  ]
                }
              },
              "required": [
                "requiredDuringSchedulingIgnoredDuringExecution"
              ]
            }
          },
          "required": [
            "nodeAffinity"
          ]
        },
        "tolerations": {
          "type": "array",
          "items": {}
        },
        "nodeSelector": {
          "type": "object"
        },
        "resources": {
          "type": "object",
          "properties": {
            "limits": {
              "type": "object",
              "properties": {
                "cpu": {
                  "type": "string"
                },
                "memory": {
                  "type": "string"
                }
              },
              "required": [
                "cpu",
                "memory"
              ]
            },
            "requests": {
              "type": "object",
              "properties": {
                "cpu": {
                  "type": "string"
                },
                "memory": {
                  "type": "string"
                }
              },
              "required": [
                "cpu",
                "memory"
              ]
            }
          },
          "required": [
            "limits",
            "requests"
          ]
        },
        "strategy": {
          "type": "object"
        },
        "featureGates": {
          "type": "object",
          "properties": {
            "requireAuthorization": {
              "type": "boolean"
            }
          },
          "required": [
            "requireAuthorization"
          ]
        },
        "modules": {
          "type": "object",
          "properties": {
            "cloudHub": {
              "type": "object",
              "properties": {
                "advertiseAddress": {
                  "type": "array",
                  "items": {}
                },
                "dnsNames": {
                  "type": "array",
                  "items": [
                    {
                      "type": "string"
                    }
                  ]
                },
                "nodeLimit": {
                  "type": "string"
                },
                "websocket": {
                  "type": "object",
                  "properties": {
                    "port": {
                      "type": "integer"
                    },
                    "enable": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "port",
                    "enable"
                  ]
                },
                "quic": {
                  "type": "object",
                  "properties": {
                    "port": {
                      "type": "integer"
                    },
                    "enable": {
                      "type": "boolean"
                    },
                    "maxIncomingStreams": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "port",
                    "enable",
                    "maxIncomingStreams"
                  ]
                },
                "https": {
                  "type": "object",
                  "properties": {
                    "enable": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "enable"
                  ]
                }
              },
              "required": [
                "advertiseAddress",
                "dnsNames",
                "nodeLimit",
                "websocket",
                "quic",
                "https"
              ]
            },
            "cloudStream": {
              "type": "object",
              "properties": {
                "enable": {
                  "type": "boolean"
                }
              },
              "required": [
                "enable"
              ]
            },
            "dynamicController": {
              "type": "object",
              "properties": {
                "enable": {
                  "type": "boolean"
                }
              },
              "required": [
                "enable"
              ]
            },
            "router": {
              "type": "object",
              "properties": {
                "enable": {
                  "type": "boolean"
                }
              },
              "required": [
                "enable"
              ]
            },
            "taskManager": {
              "type": "object",
              "properties": {
                "enable": {
                  "type": "boolean"
                }
              },
              "required": [
                "enable"
              ]
            }
          },
          "required": [
            "cloudHub",
            "cloudStream",
            "dynamicController",
            "router",
            "taskManager"
          ]
        },
        "service": {
          "type": "object",
          "properties": {
            "enable": {
              "type": "boolean"
            },
            "type": {
              "type": "string"
            },
            "cloudhubNodePort": {
              "type": "string"
            },
            "cloudhubQuicNodePort": {
              "type": "string"
            },
            "cloudhubHttpsNodePort": {
              "type": "string"
            },
            "cloudstreamNodePort": {
              "type": "string"
            },
            "tunnelNodePort": {
              "type": "string"
            },
            "annotations": {
              "type": "object"
            }
          },
          "required": [
            "enable",
            "type",
            "cloudhubNodePort",
            "cloudhubQuicNodePort",
            "cloudhubHttpsNodePort",
            "cloudstreamNodePort",
            "tunnelNodePort",
            "annotations"
          ]
        }
      },
      "required": [
        "replicaCount",
        "hostNetWork",
        "image",
        "securityContext",
        "labels",
        "annotations",
        "affinity",
        "tolerations",
        "nodeSelector",
        "resources",
        "strategy",
        "featureGates",
        "modules",
        "service"
      ]
    },
    "iptablesManager": {
      "type": "object",
      "properties": {
        "enable": {
          "type": "boolean"
        },
        "mode": {
          "type": "string"
        },
        "framework": {
          "type": "string"
        },
        "hostNetWork": {
          "type": "boolean"
        },
        "image": {
          "type": "object",
          "properties": {
            "repository": {
              "type": "string"
            },
            "nftRepository": {
              "type": "string"
            },
            "tag": {
              "type": "string"
            },
            "pullPolicy": {
              "type": "string"
            },
            "pullSecrets": {
              "type": "array",
              "items": {}
            }
          },
          "required": [
            "repository",
            "nftRepository",
            "tag",
            "pullPolicy",
            "pullSecrets"
          ]
        },
        "securityContext": {
          "type": "object",
          "properties": {
            "capabilities": {
              "type": "object",
              "properties": {
                "add": {
                  "type": "array",
                  "items": [
                    {
                      "type": "string"
                    },
                    {
                      "type": "string"
                    }
                  ]
                }
              },
              "required": [
                "add"
              ]
            }
          },
          "required": [
            "capabilities"
          ]
        },
        "labels": {
          "type": "object",
          "properties": {
            "k8s-app": {
              "type": "string"
            },
            "kubeedge": {
              "type": "string"
            }
          },
          "required": [
            "k8s-app",
            "kubeedge"
          ]
        },
        "annotations": {
          "type": "object"
        },
        "affinity": {
          "type": "object",
          "properties": {
            "nodeAffinity": {
              "type": "object",
              "properties": {
                "requiredDuringSchedulingIgnoredDuringExecution": {
                  "type": "object",
                  "properties": {
                    "nodeSelectorTerms": {
                      "type": "array",
                      "items": [
                        {
                          "type": "object",
                          "properties": {
                            "matchExpressions": {
                              "type": "array",
                              "items": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "key": {
                                      "type": "string"
                                    },
                                    "operator": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "key",
                                    "operator"
                                  ]
                                }
                              ]
                            }
                          },
                          "required": [
                            "matchExpressions"
                          ]
                        }
                      ]
                    }
                  },
                  "required": [
                    "nodeSelectorTerms"
                  ]
                }
              },
              "required": [
                "requiredDuringSchedulingIgnoredDuringExecution"
              ]
            }
          },
          "required": [
            "nodeAffinity"
          ]
        },
        "tolerations": {
          "type": "array",
          "items": {}
        },
        "nodeSelector": {
          "type": "object"
        },
        "resources": {
          "type": "object",
          "properties": {
            "limits": {
              "type": "object",
              "properties": {
                "cpu": {
                  "type": "string"
                },
                "memory": {
                  "type": "string"
                }
              },
              "required": [
                "cpu",
                "memory"
              ]
            },
            "requests": {
              "type": "object",
              "properties": {
                "cpu": {
                  "type": "string"
                },
                "memory": {
                  "type": "string"
                }
              },
              "required": [
                "cpu",
                "memory"
              ]
            }
          },
          "required": [
            "limits",
            "requests"
          ]
        }
      },
      "required": [
        "enable",
        "mode",
        "framework",
        "hostNetWork",
        "image",
        "securityContext",
        "labels",
        "annotations",
        "affinity",
        "tolerations",
        "nodeSelector",
        "resources"
      ]
    },
    "controllerManager": {
      "type": "object",
      "properties": {
        "enable": {
          "type": "boolean"
        },
        "image": {
          "type": "object",
          "properties": {
            "repository": {
              "type": "string"
            },
            "tag": {
              "type": "string"
            },
            "pullPolicy": {
              "type": "string"
            },
            "pullSecrets": {
              "type": "array",
              "items": {}
            }
          },
          "required": [
            "repository",
            "tag",
            "pullPolicy",
            "pullSecrets"
          ]
        },
        "labels": {
          "type": "object",
          "properties": {
            "k8s-app": {
              "type": "string"
            },
            "kubeedge": {
              "type": "string"
            }
          },
          "required": [
            "k8s-app",
            "kubeedge"
          ]
        },
        "annotations": {
          "type": "object"
        },
        "affinity": {
          "type": "object",
          "properties": {
            "nodeAffinity": {
              "type": "object",
              "properties": {
                "requiredDuringSchedulingIgnoredDuringExecution": {
                  "type": "object",
                  "properties": {
                    "nodeSelectorTerms": {
                      "type": "array",
                      "items": [
                        {
                          "type": "object",
                          "properties": {
                            "matchExpressions": {
                              "type": "array",
                              "items": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "key": {
                                      "type": "string"
                                    },
                                    "operator": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "key",
                                    "operator"
                                  ]
                                }
                              ]
                            }
                          },
                          "required": [
                            "matchExpressions"
                          ]
                        }
                      ]
                    }
                  },
                  "required": [
                    "nodeSelectorTerms"
                  ]
                }
              },
              "required": [
                "requiredDuringSchedulingIgnoredDuringExecution"
              ]
            }
          },
          "required": [
            "nodeAffinity"
          ]
        },
        "tolerations": {
          "type": "array",
          "items": [
            {
              "type": "object",
              "properties": {
                "key": {
                  "type": "string"
                },
                "operator": {
                  "type": "string"
                },
                "effect": {
                  "type": "string"
                }
              },
              "required": [
                "key",
                "operator",
                "effect"
              ]
            },
            {
              "type": "object",
              "properties": {
                "key": {
                  "type": "string"
                },
                "operator": {
                  "type": "string"
                },
                "effect": {
                  "type": "string"
                }
              },
              "required": [
                "key",
                "operator",
                "effect"
              ]
            }
          ]
        },
        "nodeSelector": {
          "type": "object"
        },
        "resources": {
          "type": "object",
          "properties": {
            "limits": {
              "type": "object",
              "properties": {
                "cpu": {
                  "type": "string"
                },
                "memory": {
                  "type": "string"
                }
              },
              "required": [
                "cpu",
                "memory"
              ]
            },
            "requests": {
              "type": "object",
              "properties": {
                "cpu": {
                  "type": "string"
                },
                "memory": {
                  "type": "string"
                }
              },
              "required": [
                "cpu",
                "memory"
              ]
            }
          },
          "required": [
            "limits",
            "requests"
          ]
        }
      },
      "required": [
        "enable",
        "image",
        "labels",
        "annotations",
        "affinity",
        "tolerations",
        "nodeSelector",
        "resources"
      ]
    },
    "admission": {
      "type": "object",
      "properties": {
        "enable": {
          "type": "boolean"
        },
        "replicaCount": {
          "type": "integer"
        },
        "certsSecretName": {
          "type": "string"
        },
        "image": {
          "type": "object",
          "properties": {
            "repository": {
              "type": "string"
            },
            "tag": {
              "type": "string"
            },
            "pullPolicy": {
              "type": "string"
            },
            "pullSecrets": {
              "type": "array",
              "items": {}
            }
          },
          "required": [
            "repository",
            "tag",
            "pullPolicy",
            "pullSecrets"
          ]
        },
        "labels": {
          "type": "object",
          "properties": {
            "k8s-app": {
              "type": "string"
            },
            "kubeedge": {
              "type": "string"
            }
          },
          "required": [
            "k8s-app",
            "kubeedge"
          ]
        },
        "annoations": {
          "type": "object"
        },
        "affinity": {
          "type": "object",
          "properties": {
            "nodeAffinity": {
              "type": "object",
              "properties": {
                "requiredDuringSchedulingIgnoredDuringExecution": {
                  "type": "object",
                  "properties": {
                    "nodeSelectorTerms": {
                      "type": "array",
                      "items": [
                        {
                          "type": "object",
                          "properties": {
                            "matchExpressions": {
                              "type": "array",
                              "items": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "key": {
                                      "type": "string"
                                    },
                                    "operator": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "key",
                                    "operator"
                                  ]
                                }
                              ]
                            }
                          },
                          "required": [
                            "matchExpressions"
                          ]
                        }
                      ]
                    }
                  },
                  "required": [
                    "nodeSelectorTerms"
                  ]
                }
              },
              "required": [
                "requiredDuringSchedulingIgnoredDuringExecution"
              ]
            }
          },
          "required": [
            "nodeAffinity"
          ]
        },
        "tolerations": {
          "type": "array",
          "items": {}
        },
        "nodeSelector": {
          "type": "object"
        },
        "resources": {
          "type": "object",
          "properties": {
            "limits": {
              "type": "object",
              "properties": {
                "cpu": {
                  "type": "string"
                },
                "memory": {
                  "type": "string"
                }
              },
              "required": [
                "cpu",
                "memory"
              ]
            },
            "requests": {
              "type": "object",
              "properties": {
                "cpu": {
                  "type": "string"
                },
                "memory": {
                  "type": "string"
                }
              },
              "required": [
                "cpu",
                "memory"
              ]
            }
          },
          "required": [
            "limits",
            "requests"
          ]
        }
      },
      "required": [
        "enable",
        "replicaCount",
        "certsSecretName",
        "image",
        "labels",
        "annoations",
        "affinity",
        "tolerations",
        "nodeSelector",
        "resources"
      ]
    },
    "mosquitto": {
      "type": "object",
      "properties": {
        "enable": {
          "type": "boolean"
        },
        "image": {
          "type": "object",
          "properties": {
            "repository": {
              "type": "string"
            },
            "tag": {
              "type": "string"
            },
            "pullPolicy": {
              "type": "string"
            },
            "pullSecrets": {
              "type": "array",
              "items": {}
            }
          },
          "required": [
            "repository",
            "tag",
            "pullPolicy",
            "pullSecrets"
          ]
        },
        "labels": {
          "type": "object",
          "properties": {
            "k8s-app": {
              "type": "string"
            },
            "kubeedge": {
              "type": "string"
            }
          },
          "required": [
            "k8s-app",
            "kubeedge"
          ]
        },
        "annotations": {
          "type": "object"
        },
        "affinity": {
          "type": "object",
          "properties": {
            "nodeAffinity": {
              "type": "object",
              "properties": {
                "requiredDuringSchedulingIgnoredDuringExecution": {
                  "type": "object",
                  "properties": {
                    "nodeSelectorTerms": {
                      "type": "array",
                      "items": [
                        {
                          "type": "object",
                          "properties": {
                            "matchExpressions": {
                              "type": "array",
                              "items": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "key": {
                                      "type": "string"
                                    },
                                    "operator": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "key",
                                    "operator"
                                  ]
                                }
                              ]
                            }
                          },
                          "required": [
                            "matchExpressions"
                          ]
                        }
                      ]
                    }
                  },
                  "required": [
                    "nodeSelectorTerms"
                  ]
                }
              },
              "required": [
                "requiredDuringSchedulingIgnoredDuringExecution"
              ]
            }
          },
          "required": [
            "nodeAffinity"
          ]
        },
        "tolerations": {
          "type": "array",
          "items": {}
        },
        "resources": {
          "type": "object",
          "properties": {
            "limits": {
              "type": "object",
              "properties": {
                "cpu": {
                  "type": "string"
                },
                "memory": {
                  "type": "string"
                }
              },
              "required": [
                "cpu",
                "memory"
              ]
            },
            "requests": {
              "type": "object",
              "properties": {
                "cpu": {
                  "type": "string"
                },
                "memory": {
                  "type": "string"
                }
              },
              "required": [
                "cpu",
                "memory"
              ]
            }
          },
          "required": [
            "limits",
            "requests"
          ]
        }
      },
      "required": [
        "enable",
        "image",
        "labels",
        "annotations",
        "affinity",
        "tolerations",
        "resources"
      ]
    },
    "kubectlImage": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string"
        },
        "registry": {
          "type": "string"
        },
        "tag": {
          "type": "string"
        }
      },
      "required": [
        "name",
        "registry",
        "tag"
      ]
    }
  },
  "required": [
    "appVersion",
    "cloudCore",
    "iptablesManager",
    "controllerManager",
    "admission",
    "mosquitto",
    "kubectlImage"
  ]
}


